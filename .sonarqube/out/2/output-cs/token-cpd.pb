È/
UC:\Users\Tadeu\source\repos\TadeuStore\TadeuStore.Infra.Data\Cache\CacheConnection.cs
	namespace 	

TadeuStore
 
. 
Infra 
. 
Data 
.  
Cache  %
{ 
public 

class 
CacheConnection  
:! "
ICacheConnection# 3
{ 
private		 
readonly		 
IDistributedCache		 *
_cache		+ 1
;		1 2
public

 
CacheConnection

 
(

 
IDistributedCache 
cache #
)# $
{ 	
_cache 
= 
cache 
; 
} 	
public 
async 
Task 
SetAsync "
<" #
T# $
>$ %
(% &
string& ,
key- 0
,0 1
T2 3
value4 9
,9 :
TimeSpan; C
expiryD J
)J K
{ 	(
DistributedCacheEntryOptions (
entryOptions) 5
=6 7
new8 ;(
DistributedCacheEntryOptions< X
(X Y
)Y Z
{ 
AbsoluteExpiration "
=# $
new% (
DateTimeOffset) 7
(7 8
DateTime8 @
.@ A
NowA D
.D E
AddE H
(H I
expiryI O
)O P
)P Q
} 
; 
await 
_cache 
. 
SetStringAsync '
(' (
key( +
,+ ,
JsonConvert- 8
.8 9
SerializeObject9 H
(H I
valueI N
)N O
,O P
entryOptionsQ ]
)] ^
;^ _
} 	
public 
async 
Task 
< 
T 
> 
GetAsync %
<% &
T& '
>' (
(( )
string) /
key0 3
)3 4
{ 	
var 
data 
= 
await 
_cache #
.# $
GetStringAsync$ 2
(2 3
key3 6
)6 7
;7 8
if 
( 
data 
== 
null 
) 
return 
default 
( 
T  
)  !
;! "
return!! 
JsonConvert!! 
.!! 
DeserializeObject!! 0
<!!0 1
T!!1 2
>!!2 3
(!!3 4
data!!4 8
)!!8 9
;!!9 :
}"" 	
public$$ 
byte$$ 
[$$ 
]$$ 
Get$$ 
($$ 
string$$  
key$$! $
)$$$ %
{%% 	
return&& 
_cache&& 
.&& 
Get&& 
(&& 
key&& !
)&&! "
;&&" #
}'' 	
public)) 
Task)) 
<)) 
byte)) 
[)) 
])) 
>)) 
GetAsync)) $
())$ %
string))% +
key)), /
,))/ 0
CancellationToken))1 B
token))C H
=))I J
default))K R
)))R S
{** 	
return++ 
_cache++ 
.++ 
GetAsync++ "
(++" #
key++# &
,++& '
token++( -
)++- .
;++. /
},, 	
public.. 
void.. 
Refresh.. 
(.. 
string.. "
key..# &
)..& '
{// 	
_cache00 
.00 
Refresh00 
(00 
key00 
)00 
;00  
}11 	
public33 
Task33 
RefreshAsync33  
(33  !
string33! '
key33( +
,33+ ,
CancellationToken33- >
token33? D
=33E F
default33G N
)33N O
{44 	
return55 
_cache55 
.55 
RefreshAsync55 &
(55& '
key55' *
,55* +
token55, 1
)551 2
;552 3
}66 	
public88 
void88 
Remove88 
(88 
string88 !
key88" %
)88% &
{99 	
_cache:: 
.:: 
Remove:: 
(:: 
key:: 
):: 
;:: 
};; 	
public== 
Task== 
RemoveAsync== 
(==  
string==  &
key==' *
,==* +
CancellationToken==, =
token==> C
===D E
default==F M
)==M N
{>> 	
return?? 
_cache?? 
.?? 
RemoveAsync?? %
(??% &
key??& )
,??) *
token??+ 0
)??0 1
;??1 2
}@@ 	
publicBB 
voidBB 
SetBB 
(BB 
stringBB 
keyBB "
,BB" #
byteBB$ (
[BB( )
]BB) *
valueBB+ 0
,BB0 1(
DistributedCacheEntryOptionsBB2 N
optionsBBO V
)BBV W
{CC 	
_cacheDD 
.DD 
SetDD 
(DD 
keyDD 
,DD 
valueDD !
,DD! "
optionsDD# *
)DD* +
;DD+ ,
}EE 	
publicGG 
TaskGG 
SetAsyncGG 
(GG 
stringGG #
keyGG$ '
,GG' (
byteGG) -
[GG- .
]GG. /
valueGG0 5
,GG5 6(
DistributedCacheEntryOptionsGG7 S
optionsGGT [
,GG[ \
CancellationTokenGG] n
tokenGGo t
=GGu v
defaultGGw ~
)GG~ 
{HH 	
returnII 
_cacheII 
.II 
SetAsyncII "
(II" #
keyII# &
,II& '
valueII( -
,II- .
optionsII/ 6
,II6 7
tokenII8 =
)II= >
;II> ?
}JJ 	
}KK 
}LL â
SC:\Users\Tadeu\source\repos\TadeuStore\TadeuStore.Infra.Data\Context\MainContext.cs
	namespace 	

TadeuStore
 
. 
Infra 
. 
Data 
.  
Context  '
{ 
public 

class 
MainContext 
: 
	DbContext (
{ 
public 
MainContext 
( 
DbContextOptions +
options, 3
)3 4
:5 6
base7 ;
(; <
options< C
)C D
{		 	
}

 	
	protected 
override 
void 
OnModelCreating  /
(/ 0
ModelBuilder0 <
modelBuilder= I
)I J
{ 	
base 
. 
OnModelCreating  
(  !
modelBuilder! -
)- .
;. /
foreach 
( 
var 
relationship %
in& (
modelBuilder) 5
.5 6
Model6 ;
.; <
GetEntityTypes< J
(J K
)K L
.L M

SelectManyM W
(W X
eX Y
=>Z \
e] ^
.^ _
GetForeignKeys_ m
(m n
)n o
)o p
)p q
relationshipr ~
.~ 
DeleteBehavior	 ç
=
é è
DeleteBehavior
ê û
.
û ü
ClientSetNull
ü ¨
;
¨ ≠
modelBuilder 
. 
Entity 
<  
	Transacao  )
>) *
(* +
)+ ,
. 
Property 
( 
p 
=> 
p  
.  !
	ValorPago! *
)* +
. 
HasColumnType 
( 
$str .
). /
;/ 0
} 	
public 
DbSet 
< 

Aplicativo 
>  
Aplicativos! ,
{- .
get/ 2
;2 3
set4 7
;7 8
}9 :
public 
DbSet 
< 
Usuario 
> 
Usuarios &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 
DbSet 
< 
CartaoCredito "
>" #
CartoesCredito$ 2
{3 4
get5 8
;8 9
set: =
;= >
}? @
public 
DbSet 
< 
	Transacao 
> 

Transacoes  *
{+ ,
get- 0
;0 1
set2 5
;5 6
}7 8
} 
} Ê9
aC:\Users\Tadeu\source\repos\TadeuStore\TadeuStore.Infra.Data\Migrations\20220528222251_Inicial.cs
	namespace 	

TadeuStore
 
. 
Infra 
. 
Data 
.  

Migrations  *
{ 
public 

partial 
class 
Inicial  
:! "
	Migration# ,
{		 
	protected

 
override

 
void

 
Up

  "
(

" #
MigrationBuilder

# 3
migrationBuilder

4 D
)

D E
{ 	
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str #
,# $
columns 
: 
table 
=> !
new" %
{ 
Id 
= 
table 
. 
Column %
<% &
Guid& *
>* +
(+ ,
nullable, 4
:4 5
false6 ;
); <
,< =
Nome 
= 
table  
.  !
Column! '
<' (
string( .
>. /
(/ 0
type0 4
:4 5
$str6 E
,E F
nullableG O
:O P
falseQ V
)V W
,W X
Empresa 
= 
table #
.# $
Column$ *
<* +
string+ 1
>1 2
(2 3
type3 7
:7 8
$str9 H
,H I
nullableJ R
:R S
falseT Y
)Y Z
,Z [
	Categoria 
= 
table  %
.% &
Column& ,
<, -
string- 3
>3 4
(4 5
type5 9
:9 :
$str; J
,J K
nullableL T
:T U
falseV [
)[ \
,\ ]
DataPublicacao "
=# $
table% *
.* +
Column+ 1
<1 2
DateTime2 :
>: ;
(; <
nullable< D
:D E
falseF K
)K L
} 
, 
constraints 
: 
table "
=># %
{ 
table 
. 

PrimaryKey $
($ %
$str% 5
,5 6
x7 8
=>9 ;
x< =
.= >
Id> @
)@ A
;A B
} 
) 
; 
} 	
private 
void 
InsertAplicativos &
(& '
MigrationBuilder' 7
migrationBuilder8 H
)H I
{   	
migrationBuilder!! 
.!! 

InsertData!! '
(!!' (
$str"" 
,"" 
new## 
string## 
[## 
]## 
{## 
$str## #
,### $
$str##% +
,##, -
$str##. 7
,##8 9
$str##: E
,##E F
$str##G W
}##X Y
,##Y Z
new$$ 
object$$ 
[$$ 
]$$ 
{$$ 
Guid$$ #
.$$# $
NewGuid$$$ +
($$+ ,
)$$, -
,$$- .
$str$$/ 9
,$$9 :
$str$$; A
,$$A B
$str$$C K
,$$K L
DateTime$$M U
.$$U V
Now$$V Y
}$$Z [
)$$[ \
;$$\ ]
migrationBuilder&& 
.&& 

InsertData&& '
(&&' (
$str'' 
,'' 
new(( 
string(( 
[(( 
](( 
{(( 
$str(( #
,((# $
$str((% +
,((+ ,
$str((- 6
,((6 7
$str((8 C
,((C D
$str((E U
}((V W
,((W X
new)) 
object)) 
[)) 
])) 
{)) 
Guid)) #
.))# $
NewGuid))$ +
())+ ,
))), -
,))- .
$str))/ 9
,))9 :
$str)); G
,))G H
$str))I P
,))P Q
DateTime))R Z
.))Z [
Now))[ ^
.))^ _

AddSeconds))_ i
())i j
-))j k
$num))k p
)))p q
}))r s
)))s t
;))t u
migrationBuilder++ 
.++ 

InsertData++ '
(++' (
$str,, 
,,, 
new-- 
string-- 
[-- 
]-- 
{-- 
$str-- #
,--# $
$str--% +
,--+ ,
$str--- 6
,--6 7
$str--8 C
,--C D
$str--E U
}--V W
,--W X
new.. 
object.. 
[.. 
].. 
{.. 
Guid.. #
...# $
NewGuid..$ +
(..+ ,
).., -
,..- .
$str../ <
,..< =
$str..> H
,..H I
$str..J V
,..V W
DateTime..X `
...` a
Now..a d
...d e

AddSeconds..e o
(..o p
-..p q
$num..q w
)..w x
}..y z
)..z {
;..{ |
migrationBuilder00 
.00 

InsertData00 '
(00' (
$str11 
,11 
new22 
string22 
[22 
]22 
{22 
$str22 #
,22# $
$str22% +
,22+ ,
$str22- 6
,226 7
$str228 C
,22C D
$str22E U
}22V W
,22W X
new33 
object33 
[33 
]33 
{33 
Guid33 #
.33# $
NewGuid33$ +
(33+ ,
)33, -
,33- .
$str33/ 9
,339 :
$str33; I
,33I J
$str33K U
,33U V
DateTime33W _
.33_ `
Now33` c
.33c d

AddSeconds33d n
(33n o
-33o p
$num33p w
)33w x
}33y z
)33z {
;33{ |
migrationBuilder55 
.55 

InsertData55 '
(55' (
$str66 
,66 
new77 
string77 
[77 
]77 
{77 
$str77 #
,77# $
$str77% +
,77+ ,
$str77- 6
,776 7
$str778 C
,77C D
$str77E U
}77V W
,77W X
new88 
object88 
[88 
]88 
{88 
Guid88 #
.88# $
NewGuid88$ +
(88+ ,
)88, -
,88- .
$str88/ <
,88< =
$str88> J
,88J K
$str88L S
,88S T
DateTime88U ]
.88] ^
Now88^ a
.88a b

AddSeconds88b l
(88l m
-88m n
$num88n t
)88t u
}88v w
)88w x
;88x y
}99 	
	protected;; 
override;; 
void;; 
Down;;  $
(;;$ %
MigrationBuilder;;% 5
migrationBuilder;;6 F
);;F G
{<< 	
migrationBuilder== 
.== 
	DropTable== &
(==& '
name>> 
:>> 
$str>> #
)>># $
;>>$ %
}?? 	
}@@ 
}AA ê!
hC:\Users\Tadeu\source\repos\TadeuStore\TadeuStore.Infra.Data\Migrations\20220529012244_Create Usuario.cs
	namespace 	

TadeuStore
 
. 
Infra 
. 
Data 
.  

Migrations  *
{ 
public 

partial 
class 
CreateUsuario &
:' (
	Migration) 2
{		 
	protected

 
override

 
void

 
Up

  "
(

" #
MigrationBuilder

# 3
migrationBuilder

4 D
)

D E
{ 	
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str  
,  !
columns 
: 
table 
=> !
new" %
{ 
Id 
= 
table 
. 
Column %
<% &
Guid& *
>* +
(+ ,
nullable, 4
:4 5
false6 ;
); <
,< =
Nome 
= 
table  
.  !
Column! '
<' (
string( .
>. /
(/ 0
type0 4
:4 5
$str6 E
,E F
nullableG O
:O P
falseQ V
)V W
,W X
Email 
= 
table !
.! "
Column" (
<( )
string) /
>/ 0
(0 1
type1 5
:5 6
$str7 F
,F G
nullableH P
:P Q
falseR W
)W X
,X Y
Senha 
= 
table !
.! "
Column" (
<( )
string) /
>/ 0
(0 1
type1 5
:5 6
$str7 F
,F G
nullableH P
:P Q
falseR W
)W X
,X Y
Cpf 
= 
table 
.  
Column  &
<& '
string' -
>- .
(. /
type/ 3
:3 4
$str5 C
,C D
nullableE M
:M N
falseO T
)T U
,U V
DataNascimento "
=# $
table% *
.* +
Column+ 1
<1 2
DateTime2 :
>: ;
(; <
nullable< D
:D E
falseF K
)K L
,L M
Sexo 
= 
table  
.  !
Column! '
<' (
int( +
>+ ,
(, -
type- 1
:1 2
$str3 8
,8 9
nullable: B
:B C
falseD I
)I J
,J K
Endereco 
= 
table $
.$ %
Column% +
<+ ,
string, 2
>2 3
(3 4
type4 8
:8 9
$str: I
,I J
nullableK S
:S T
falseU Z
)Z [
,[ \
Complemento 
=  !
table" '
.' (
Column( .
<. /
string/ 5
>5 6
(6 7
type7 ;
:; <
$str= L
,L M
nullableN V
:V W
falseX ]
)] ^
} 
, 
constraints 
: 
table "
=># %
{ 
table 
. 

PrimaryKey $
($ %
$str% 2
,2 3
x4 5
=>6 8
x9 :
.: ;
Id; =
)= >
;> ?
} 
) 
; 
} 	
	protected   
override   
void   
Down    $
(  $ %
MigrationBuilder  % 5
migrationBuilder  6 F
)  F G
{!! 	
migrationBuilder"" 
."" 
	DropTable"" &
(""& '
name## 
:## 
$str##  
)##  !
;##! "
}$$ 	
}%% 
}&& ¶ 
jC:\Users\Tadeu\source\repos\TadeuStore\TadeuStore.Infra.Data\Migrations\20220531014830_AddCartaoCredito.cs
	namespace 	

TadeuStore
 
. 
Infra 
. 
Data 
.  

Migrations  *
{ 
public 

partial 
class 
AddCartaoCredito )
:* +
	Migration, 5
{		 
	protected

 
override

 
void

 
Up

  "
(

" #
MigrationBuilder

# 3
migrationBuilder

4 D
)

D E
{ 	
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str &
,& '
columns 
: 
table 
=> !
new" %
{ 
Id 
= 
table 
. 
Column %
<% &
Guid& *
>* +
(+ ,
nullable, 4
:4 5
false6 ;
); <
,< =
Numero 
= 
table "
." #
Column# )
<) *
string* 0
>0 1
(1 2
type2 6
:6 7
$str8 F
,F G
nullableH P
:P Q
falseR W
)W X
,X Y
NumeroNormalizado %
=& '
table( -
.- .
Column. 4
<4 5
string5 ;
>; <
(< =
type= A
:A B
$strC Q
,Q R
nullableS [
:[ \
false] b
)b c
,c d
Bandeira 
= 
table $
.$ %
Column% +
<+ ,
int, /
>/ 0
(0 1
type1 5
:5 6
$str7 <
,< =
nullable> F
:F G
falseH M
)M N
,N O

Vencimento 
=  
table! &
.& '
Column' -
<- .
DateTime. 6
>6 7
(7 8
nullable8 @
:@ A
falseB G
)G H
,H I
	UsuarioId 
= 
table  %
.% &
Column& ,
<, -
Guid- 1
>1 2
(2 3
nullable3 ;
:; <
false= B
)B C
} 
, 
constraints 
: 
table "
=># %
{ 
table 
. 

PrimaryKey $
($ %
$str% 8
,8 9
x: ;
=>< >
x? @
.@ A
IdA C
)C D
;D E
table 
. 

ForeignKey $
($ %
name 
: 
$str D
,D E
column 
: 
x  !
=>" $
x% &
.& '
	UsuarioId' 0
,0 1
principalTable &
:& '
$str( 2
,2 3
principalColumn '
:' (
$str) -
,- .
onDelete  
:  !
ReferentialAction" 3
.3 4
Cascade4 ;
); <
;< =
}   
)   
;   
migrationBuilder"" 
."" 
CreateIndex"" (
(""( )
name## 
:## 
$str## 3
,##3 4
table$$ 
:$$ 
$str$$ '
,$$' (
column%% 
:%% 
$str%% #
)%%# $
;%%$ %
}&& 	
	protected(( 
override(( 
void(( 
Down((  $
((($ %
MigrationBuilder((% 5
migrationBuilder((6 F
)((F G
{)) 	
migrationBuilder** 
.** 
	DropTable** &
(**& '
name++ 
:++ 
$str++ &
)++& '
;++' (
},, 	
}-- 
}.. ú
xC:\Users\Tadeu\source\repos\TadeuStore\TadeuStore.Infra.Data\Migrations\20220531131116_AlterandoEntidadeCartaoCredito.cs
	namespace 	

TadeuStore
 
. 
Infra 
. 
Data 
.  

Migrations  *
{ 
public 

partial 
class *
AlterandoEntidadeCartaoCredito 7
:8 9
	Migration: C
{		 
	protected

 
override

 
void

 
Up

  "
(

" #
MigrationBuilder

# 3
migrationBuilder

4 D
)

D E
{ 	
migrationBuilder 
. 

DropColumn '
(' (
name 
: 
$str "
," #
table 
: 
$str '
)' (
;( )
migrationBuilder 
. 
RenameColumn )
() *
name 
: 
$str )
,) *
table 
: 
$str '
,' (
newName 
: 
$str '
)' (
;( )
migrationBuilder 
. 
	AddColumn &
<& '
int' *
>* +
(+ ,
name 
: 
$str '
,' (
table 
: 
$str '
,' (
type 
: 
$str 
, 
nullable 
: 
false 
,  
defaultValue 
: 
$num 
)  
;  !
migrationBuilder 
. 
	AddColumn &
<& '
string' -
>- .
(. /
name 
: 
$str %
,% &
table 
: 
$str '
,' (
type 
: 
$str #
,# $
nullable   
:   
false   
,    
defaultValue!! 
:!! 
$str!!  
)!!  !
;!!! "
}"" 	
	protected$$ 
override$$ 
void$$ 
Down$$  $
($$$ %
MigrationBuilder$$% 5
migrationBuilder$$6 F
)$$F G
{%% 	
migrationBuilder&& 
.&& 

DropColumn&& '
(&&' (
name'' 
:'' 
$str'' '
,''' (
table(( 
:(( 
$str(( '
)((' (
;((( )
migrationBuilder** 
.** 

DropColumn** '
(**' (
name++ 
:++ 
$str++ %
,++% &
table,, 
:,, 
$str,, '
),,' (
;,,( )
migrationBuilder.. 
... 
RenameColumn.. )
(..) *
name// 
:// 
$str// $
,//$ %
table00 
:00 
$str00 '
,00' (
newName11 
:11 
$str11 ,
)11, -
;11- .
migrationBuilder33 
.33 
	AddColumn33 &
<33& '
DateTime33' /
>33/ 0
(330 1
name44 
:44 
$str44 "
,44" #
table55 
:55 
$str55 '
,55' (
type66 
:66 
$str66 !
,66! "
nullable77 
:77 
false77 
,77  
defaultValue88 
:88 
new88 !
DateTime88" *
(88* +
$num88+ ,
,88, -
$num88. /
,88/ 0
$num881 2
,882 3
$num884 5
,885 6
$num887 8
,888 9
$num88: ;
,88; <
$num88= >
,88> ?
DateTimeKind88@ L
.88L M
Unspecified88M X
)88X Y
)88Y Z
;88Z [
}99 	
}:: 
};; ¥/
gC:\Users\Tadeu\source\repos\TadeuStore\TadeuStore.Infra.Data\Migrations\20220603164803_Add Transacao.cs
	namespace 	

TadeuStore
 
. 
Infra 
. 
Data 
.  

Migrations  *
{ 
public 

partial 
class 
AddTransacao %
:& '
	Migration( 1
{		 
	protected

 
override

 
void

 
Up

  "
(

" #
MigrationBuilder

# 3
migrationBuilder

4 D
)

D E
{ 	
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str "
," #
columns 
: 
table 
=> !
new" %
{ 
Id 
= 
table 
. 
Column %
<% &
Guid& *
>* +
(+ ,
type, 0
:0 1
$str2 D
,D E
nullableF N
:N O
falseP U
)U V
,V W
	UsuarioId 
= 
table  %
.% &
Column& ,
<, -
Guid- 1
>1 2
(2 3
type3 7
:7 8
$str9 K
,K L
nullableM U
:U V
falseW \
)\ ]
,] ^
AplicativoId  
=! "
table# (
.( )
Column) /
</ 0
Guid0 4
>4 5
(5 6
type6 :
:: ;
$str< N
,N O
nullableP X
:X Y
falseZ _
)_ `
,` a
CartaoCreditoId #
=$ %
table& +
.+ ,
Column, 2
<2 3
Guid3 7
>7 8
(8 9
type9 =
:= >
$str? Q
,Q R
nullableS [
:[ \
false] b
)b c
,c d
	ValorPago 
= 
table  %
.% &
Column& ,
<, -
decimal- 4
>4 5
(5 6
type6 :
:: ;
$str< K
,K L
nullableM U
:U V
falseW \
)\ ]
,] ^
DataHoraCompra "
=# $
table% *
.* +
Column+ 1
<1 2
DateTime2 :
>: ;
(; <
type< @
:@ A
$strB M
,M N
nullableO W
:W X
falseY ^
)^ _
} 
, 
constraints 
: 
table "
=># %
{ 
table 
. 

PrimaryKey $
($ %
$str% 4
,4 5
x6 7
=>8 :
x; <
.< =
Id= ?
)? @
;@ A
table 
. 

ForeignKey $
($ %
name 
: 
$str F
,F G
column 
: 
x  !
=>" $
x% &
.& '
AplicativoId' 3
,3 4
principalTable &
:& '
$str( 5
,5 6
principalColumn '
:' (
$str) -
,- .
onDelete  
:  !
ReferentialAction" 3
.3 4
Restrict4 <
)< =
;= >
table   
.   

ForeignKey   $
(  $ %
name!! 
:!! 
$str!! L
,!!L M
column"" 
:"" 
x""  !
=>""" $
x""% &
.""& '
CartaoCreditoId""' 6
,""6 7
principalTable## &
:##& '
$str##( 8
,##8 9
principalColumn$$ '
:$$' (
$str$$) -
,$$- .
onDelete%%  
:%%  !
ReferentialAction%%" 3
.%%3 4
Restrict%%4 <
)%%< =
;%%= >
table&& 
.&& 

ForeignKey&& $
(&&$ %
name'' 
:'' 
$str'' @
,''@ A
column(( 
:(( 
x((  !
=>((" $
x((% &
.((& '
	UsuarioId((' 0
,((0 1
principalTable)) &
:))& '
$str))( 2
,))2 3
principalColumn** '
:**' (
$str**) -
,**- .
onDelete++  
:++  !
ReferentialAction++" 3
.++3 4
Restrict++4 <
)++< =
;++= >
},, 
),, 
;,, 
migrationBuilder.. 
... 
CreateIndex.. (
(..( )
name// 
:// 
$str// 2
,//2 3
table00 
:00 
$str00 #
,00# $
column11 
:11 
$str11 &
)11& '
;11' (
migrationBuilder33 
.33 
CreateIndex33 (
(33( )
name44 
:44 
$str44 5
,445 6
table55 
:55 
$str55 #
,55# $
column66 
:66 
$str66 )
)66) *
;66* +
migrationBuilder88 
.88 
CreateIndex88 (
(88( )
name99 
:99 
$str99 /
,99/ 0
table:: 
::: 
$str:: #
,::# $
column;; 
:;; 
$str;; #
);;# $
;;;$ %
}<< 	
	protected>> 
override>> 
void>> 
Down>>  $
(>>$ %
MigrationBuilder>>% 5
migrationBuilder>>6 F
)>>F G
{?? 	
migrationBuilder@@ 
.@@ 
	DropTable@@ &
(@@& '
nameAA 
:AA 
$strAA "
)AA" #
;AA# $
}BB 	
}CC 
}DD @
uC:\Users\Tadeu\source\repos\TadeuStore\TadeuStore.Infra.Data\Migrations\20220603165945_Nullable IdCartao Transacao.cs
	namespace 	

TadeuStore
 
. 
Infra 
. 
Data 
.  

Migrations  *
{ 
public 

partial 
class %
NullableIdCartaoTransacao 2
:3 4
	Migration5 >
{		 
	protected

 
override

 
void

 
Up

  "
(

" #
MigrationBuilder

# 3
migrationBuilder

4 D
)

D E
{ 	
migrationBuilder 
. 
DropForeignKey +
(+ ,
name 
: 
$str <
,< =
table 
: 
$str '
)' (
;( )
migrationBuilder 
. 
DropForeignKey +
(+ ,
name 
: 
$str >
,> ?
table 
: 
$str #
)# $
;$ %
migrationBuilder 
. 
DropForeignKey +
(+ ,
name 
: 
$str D
,D E
table 
: 
$str #
)# $
;$ %
migrationBuilder 
. 
DropForeignKey +
(+ ,
name 
: 
$str 8
,8 9
table 
: 
$str #
)# $
;$ %
migrationBuilder 
. 
AlterColumn (
<( )
Guid) -
>- .
(. /
name 
: 
$str '
,' (
table 
: 
$str #
,# $
type 
: 
$str (
,( )
nullable   
:   
true   
,   

oldClrType!! 
:!! 
typeof!! "
(!!" #
Guid!!# '
)!!' (
,!!( )
oldType"" 
:"" 
$str"" +
)""+ ,
;"", -
migrationBuilder$$ 
.$$ 
AddForeignKey$$ *
($$* +
name%% 
:%% 
$str%% <
,%%< =
table&& 
:&& 
$str&& '
,&&' (
column'' 
:'' 
$str'' #
,''# $
principalTable(( 
:(( 
$str((  *
,((* +
principalColumn)) 
:))  
$str))! %
)))% &
;))& '
migrationBuilder++ 
.++ 
AddForeignKey++ *
(++* +
name,, 
:,, 
$str,, >
,,,> ?
table-- 
:-- 
$str-- #
,--# $
column.. 
:.. 
$str.. &
,..& '
principalTable// 
:// 
$str//  -
,//- .
principalColumn00 
:00  
$str00! %
)00% &
;00& '
migrationBuilder22 
.22 
AddForeignKey22 *
(22* +
name33 
:33 
$str33 D
,33D E
table44 
:44 
$str44 #
,44# $
column55 
:55 
$str55 )
,55) *
principalTable66 
:66 
$str66  0
,660 1
principalColumn77 
:77  
$str77! %
)77% &
;77& '
migrationBuilder99 
.99 
AddForeignKey99 *
(99* +
name:: 
::: 
$str:: 8
,::8 9
table;; 
:;; 
$str;; #
,;;# $
column<< 
:<< 
$str<< #
,<<# $
principalTable== 
:== 
$str==  *
,==* +
principalColumn>> 
:>>  
$str>>! %
)>>% &
;>>& '
}?? 	
	protectedAA 
overrideAA 
voidAA 
DownAA  $
(AA$ %
MigrationBuilderAA% 5
migrationBuilderAA6 F
)AAF G
{BB 	
migrationBuilderCC 
.CC 
DropForeignKeyCC +
(CC+ ,
nameDD 
:DD 
$strDD <
,DD< =
tableEE 
:EE 
$strEE '
)EE' (
;EE( )
migrationBuilderGG 
.GG 
DropForeignKeyGG +
(GG+ ,
nameHH 
:HH 
$strHH >
,HH> ?
tableII 
:II 
$strII #
)II# $
;II$ %
migrationBuilderKK 
.KK 
DropForeignKeyKK +
(KK+ ,
nameLL 
:LL 
$strLL D
,LLD E
tableMM 
:MM 
$strMM #
)MM# $
;MM$ %
migrationBuilderOO 
.OO 
DropForeignKeyOO +
(OO+ ,
namePP 
:PP 
$strPP 8
,PP8 9
tableQQ 
:QQ 
$strQQ #
)QQ# $
;QQ$ %
migrationBuilderSS 
.SS 
AlterColumnSS (
<SS( )
GuidSS) -
>SS- .
(SS. /
nameTT 
:TT 
$strTT '
,TT' (
tableUU 
:UU 
$strUU #
,UU# $
typeVV 
:VV 
$strVV (
,VV( )
nullableWW 
:WW 
falseWW 
,WW  
defaultValueXX 
:XX 
newXX !
GuidXX" &
(XX& '
$strXX' M
)XXM N
,XXN O

oldClrTypeYY 
:YY 
typeofYY "
(YY" #
GuidYY# '
)YY' (
,YY( )
oldTypeZZ 
:ZZ 
$strZZ +
,ZZ+ ,
oldNullable[[ 
:[[ 
true[[ !
)[[! "
;[[" #
migrationBuilder]] 
.]] 
AddForeignKey]] *
(]]* +
name^^ 
:^^ 
$str^^ <
,^^< =
table__ 
:__ 
$str__ '
,__' (
column`` 
:`` 
$str`` #
,``# $
principalTableaa 
:aa 
$straa  *
,aa* +
principalColumnbb 
:bb  
$strbb! %
,bb% &
onDeletecc 
:cc 
ReferentialActioncc +
.cc+ ,
Cascadecc, 3
)cc3 4
;cc4 5
migrationBuilderee 
.ee 
AddForeignKeyee *
(ee* +
nameff 
:ff 
$strff >
,ff> ?
tablegg 
:gg 
$strgg #
,gg# $
columnhh 
:hh 
$strhh &
,hh& '
principalTableii 
:ii 
$strii  -
,ii- .
principalColumnjj 
:jj  
$strjj! %
,jj% &
onDeletekk 
:kk 
ReferentialActionkk +
.kk+ ,
Cascadekk, 3
)kk3 4
;kk4 5
migrationBuildermm 
.mm 
AddForeignKeymm *
(mm* +
namenn 
:nn 
$strnn D
,nnD E
tableoo 
:oo 
$stroo #
,oo# $
columnpp 
:pp 
$strpp )
,pp) *
principalTableqq 
:qq 
$strqq  0
,qq0 1
principalColumnrr 
:rr  
$strrr! %
,rr% &
onDeletess 
:ss 
ReferentialActionss +
.ss+ ,
Cascadess, 3
)ss3 4
;ss4 5
migrationBuilderuu 
.uu 
AddForeignKeyuu *
(uu* +
namevv 
:vv 
$strvv 8
,vv8 9
tableww 
:ww 
$strww #
,ww# $
columnxx 
:xx 
$strxx #
,xx# $
principalTableyy 
:yy 
$stryy  *
,yy* +
principalColumnzz 
:zz  
$strzz! %
,zz% &
onDelete{{ 
:{{ 
ReferentialAction{{ +
.{{+ ,
Cascade{{, 3
){{3 4
;{{4 5
}|| 	
}}} 
}~~ ∏
yC:\Users\Tadeu\source\repos\TadeuStore\TadeuStore.Infra.Data\Migrations\20220603232532_Add CodigoAutorizacao Transacao.cs
	namespace 	

TadeuStore
 
. 
Infra 
. 
Data 
.  

Migrations  *
{ 
public 

partial 
class )
AddCodigoAutorizacaoTransacao 6
:7 8
	Migration9 B
{ 
	protected		 
override		 
void		 
Up		  "
(		" #
MigrationBuilder		# 3
migrationBuilder		4 D
)		D E
{

 	
migrationBuilder 
. 
	AddColumn &
<& '
int' *
>* +
(+ ,
name 
: 
$str )
,) *
table 
: 
$str #
,# $
type 
: 
$str 
, 
nullable 
: 
false 
,  
defaultValue 
: 
$num 
)  
;  !
} 	
	protected 
override 
void 
Down  $
($ %
MigrationBuilder% 5
migrationBuilder6 F
)F G
{ 	
migrationBuilder 
. 

DropColumn '
(' (
name 
: 
$str )
,) *
table 
: 
$str #
)# $
;$ %
} 	
} 
} ˛
`C:\Users\Tadeu\source\repos\TadeuStore\TadeuStore.Infra.Data\Repositorys\AplicaticoRepository.cs
	namespace 	

TadeuStore
 
. 
Infra 
. 
Data 
.  
Repositorys  +
{ 
public 

class  
AplicaticoRepository %
:& '

Repository( 2
<2 3

Aplicativo3 =
>= >
,> ?!
IAplicativoRepository@ U
{ 
public		  
AplicaticoRepository		 #
(		# $
MainContext		$ /
context		0 7
)		7 8
:		9 :
base		; ?
(		? @
context		@ G
)		G H
{

 	
} 	
} 
} ç
cC:\Users\Tadeu\source\repos\TadeuStore\TadeuStore.Infra.Data\Repositorys\CartaoCreditoRepository.cs
	namespace 	

TadeuStore
 
. 
Infra 
. 
Data 
.  
Repositorys  +
{ 
public 

class #
CartaoCreditoRepository (
:) *

Repository+ 5
<5 6
CartaoCredito6 C
>C D
,D E$
ICartaoCreditoRepositoryF ^
{ 
public		 #
CartaoCreditoRepository		 &
(		& '
MainContext		' 2
context		3 :
)		: ;
:		< =
base		> B
(		B C
context		C J
)		J K
{

 	
} 	
} 
} ˇ&
VC:\Users\Tadeu\source\repos\TadeuStore\TadeuStore.Infra.Data\Repositorys\Repository.cs
	namespace 	

TadeuStore
 
. 
Infra 
. 
Data 
.  
Repositorys  +
{ 
public		 

class		 

Repository		 
<		 
TEntity		 #
>		# $
:		% &
IRepository		' 2
<		2 3
TEntity		3 :
>		: ;
where		< A
TEntity		B I
:		J K
Entity		L R
,		R S
new		T W
(		W X
)		X Y
{

 
	protected 
readonly 
MainContext &
Db' )
;) *
	protected 
readonly 
DbSet  
<  !
TEntity! (
>( )
DbSet* /
;/ 0
public 

Repository 
( 
MainContext %
context& -
)- .
{ 	
Db 
= 
context 
; 
DbSet 
= 
Db 
. 
Set 
< 
TEntity "
>" #
(# $
)$ %
;% &
} 	
public 
virtual 
async 
Task !
<! "
TEntity" )
>) *
	Adicionar+ 4
(4 5
TEntity5 <
entity= C
)C D
{ 	
DbSet 
. 
Add 
( 
entity 
) 
; 
await 
SaveChanges 
( 
) 
;  
await 
Db 
. 
Entry 
( 
entity !
)! "
." #"
GetDatabaseValuesAsync# 9
(9 :
): ;
;; <
return 
entity 
; 
} 	
public 
virtual 
async 
Task !
	Atualizar" +
(+ ,
TEntity, 3
entity4 :
): ;
{ 	
DbSet 
. 
Update 
( 
entity 
)  
;  !
await 
SaveChanges 
( 
) 
;  
} 	
public!! 
virtual!! 
async!! 
Task!! !
Remover!!" )
(!!) *
Guid!!* .
id!!/ 1
)!!1 2
{"" 	
DbSet## 
.## 
Remove## 
(## 
new## 
TEntity## $
{##% &
Id##' )
=##* +
id##, .
}##/ 0
)##0 1
;##1 2
await$$ 
SaveChanges$$ 
($$ 
)$$ 
;$$  
}%% 	
public&& 
async&& 
Task&& 
<&& 
List&& 
<&& 
TEntity&& &
>&&& '
>&&' (

ObterTodos&&) 3
(&&3 4
)&&4 5
{'' 	
return(( 
await(( 
DbSet(( 
.(( 
ToListAsync(( *
(((* +
)((+ ,
;((, -
})) 	
public++ 
async++ 
Task++ 
<++ 
IEnumerable++ %
<++% &
TEntity++& -
>++- .
>++. /
Obter++0 5
(++5 6

Expression++6 @
<++@ A
Func++A E
<++E F
TEntity++F M
,++M N
bool++O S
>++S T
>++T U
	expressao++V _
)++_ `
{,, 	
return-- 
await-- 
DbSet-- 
.-- 
AsNoTracking-- +
(--+ ,
)--, -
.--- .
Where--. 3
(--3 4
	expressao--4 =
)--= >
.--> ?
ToListAsync--? J
(--J K
)--K L
;--L M
}.. 	
public// 
virtual// 
async// 
Task// !
<//! "
TEntity//" )
>//) *

ObterPorId//+ 5
(//5 6
Guid//6 :
id//; =
)//= >
{00 	
return11 
await11 
DbSet11 
.11 
	FindAsync11 (
(11( )
id11) +
)11+ ,
;11, -
}22 	
public33 
async33 
Task33 
<33 
int33 
>33 
SaveChanges33 *
(33* +
)33+ ,
{44 	
return55 
await55 
Db55 
.55 
SaveChangesAsync55 ,
(55, -
)55- .
;55. /
}66 	
public88 
void88 
Dispose88 
(88 
)88 
{99 	
Db:: 
?:: 
.:: 
Dispose:: 
(:: 
):: 
;:: 
};; 	
}<< 
}== ˘
_C:\Users\Tadeu\source\repos\TadeuStore\TadeuStore.Infra.Data\Repositorys\TransacaoRepository.cs
	namespace 	

TadeuStore
 
. 
Infra 
. 
Data 
.  
Repositorys  +
{ 
public 

class 
TransacaoRepository $
:% &

Repository' 1
<1 2
	Transacao2 ;
>; <
,< = 
ITransacaoRepository> R
{ 
public		 
TransacaoRepository		 "
(		" #
MainContext		# .
context		/ 6
)		6 7
:		8 9
base		: >
(		> ?
context		? F
)		F G
{

 	
} 	
} 
} Ü
]C:\Users\Tadeu\source\repos\TadeuStore\TadeuStore.Infra.Data\Repositorys\UsuarioRepository.cs
	namespace 	

TadeuStore
 
. 
Infra 
. 
Data 
.  
Repositorys  +
{ 
public 

class 
UsuarioRepository "
:# $

Repository% /
</ 0
Usuario0 7
>7 8
,8 9
IUsuarioRepository: L
{		 
public

 
UsuarioRepository

  
(

  !
MainContext

! ,
context

- 4
)

4 5
:

6 7
base

8 <
(

< =
context

= D
)

D E
{ 	
} 	
public 
override 
async 
Task "
<" #
Usuario# *
>* +

ObterPorId, 6
(6 7
Guid7 ;
id< >
)> ?
{ 	
return 
await 
DbSet 
. 
Include 
( 
x 
=> 
x 
.  
CartoesCredito  .
). /
. 
FirstOrDefaultAsync $
($ %
x% &
=>' )
x* +
.+ ,
Id, .
==/ 1
id2 4
)4 5
;5 6
} 	
} 
} 